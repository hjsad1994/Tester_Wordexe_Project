# Progress Log

Bead: bd-4lz
Started: 2026-02-16

## Codebase Patterns

- Product detail uses `fetchProductById`/`fetchProductBySlug` and `mapApiProductToCard` in `frontend/src/app/products/[id]/page.tsx`.
- API contract already includes `quantity` in `frontend/src/lib/api.ts`.
- Current inventory display on product detail is hardcoded and must be replaced with DB-backed values.

---

<!-- Task logs below - APPEND ONLY -->

## 2026-02-16 - Shipping run

- Completed `frontend-1`: propagated `quantity` from API mapper to product detail UI model in `frontend/src/app/products/[id]/page.tsx` and `frontend/src/components/ProductCard.tsx`.
- Completed `frontend-2`: replaced hardcoded stock display with DB-backed inventory state (in-stock, out-of-stock, unknown), constrained quantity interactions, and disabled purchase actions when out of stock in `frontend/src/app/products/[id]/page.tsx`.
- Completed code changes for `tests-1`: added PDP inventory regression scenarios in `playwright/tests/demo-user-12/test-cases.spec.ts`.
- Verification executed: `npm run typecheck`, `npm run lint:fix`, `npm run lint`, `npm run build` in `frontend/`.
- Playwright execution skipped per explicit user request: "khong can test playwright".
