{
	"beadId": "bd-2mz",
	"prdName": "admin-inventory-stock-crud",
	"tasks": [
		{
			"id": "api-1",
			"category": "api",
			"description": "The product contract consistently uses backend quantity for inventory data across frontend types and backend service/repository validation paths.",
			"steps": [
				"npm --prefix frontend run typecheck",
				"npm --prefix backend run lint"
			],
			"passes": true,
			"metadata": {
				"depends_on": [],
				"parallel": false,
				"conflicts_with": [],
				"files": [
					"frontend/src/lib/api.ts",
					"backend/src/services/productService.js",
					"backend/src/repositories/productRepository.js",
					"backend/src/models/Product.js"
				]
			}
		},
		{
			"id": "frontend-1",
			"category": "frontend",
			"description": "The active admin products panel allows admins to view and edit stock in table and modal create/update flows using the existing product CRUD interactions.",
			"steps": [
				"npm --prefix frontend run lint",
				"npm --prefix frontend run typecheck"
			],
			"passes": true,
			"metadata": {
				"depends_on": ["api-1"],
				"parallel": false,
				"conflicts_with": [],
				"files": [
					"frontend/src/components/admin/AdminProductsPanel.tsx",
					"frontend/src/app/admin/products/page.tsx"
				]
			}
		},
		{
			"id": "validation-1",
			"category": "validation",
			"description": "Invalid stock values are rejected before persistence and valid non-negative integer stock values persist correctly through create/update operations.",
			"steps": [
				"npm --prefix backend run test:ci",
				"npm --prefix frontend run build"
			],
			"passes": true,
			"metadata": {
				"depends_on": ["api-1", "frontend-1"],
				"parallel": false,
				"conflicts_with": [],
				"files": [
					"frontend/src/components/admin/AdminProductsPanel.tsx",
					"backend/src/services/productService.js",
					"backend/src/controllers/productController.js"
				]
			}
		},
		{
			"id": "verification-1",
			"category": "verification",
			"description": "All CI-relevant backend and frontend checks pass with inventory CRUD changes and no Playwright rerun requirement.",
			"steps": [
				"npm --prefix backend run lint",
				"npm --prefix backend run format:check",
				"npm --prefix backend run test:ci",
				"npm --prefix frontend run lint",
				"npm --prefix frontend run format:check",
				"npm --prefix frontend run typecheck",
				"npm --prefix frontend run build"
			],
			"passes": true,
			"metadata": {
				"depends_on": ["validation-1"],
				"parallel": false,
				"conflicts_with": [],
				"files": [
					".github/workflows/ci.yml",
					"frontend/package.json",
					"backend/package.json"
				]
			}
		}
	],
	"context": {
		"patterns": [
			"Modal-based admin product CRUD in frontend/src/components/admin/AdminProductsPanel.tsx",
			"Product API contract uses quantity in frontend/src/lib/api.ts",
			"Backend product flow follows route -> controller -> service -> repository"
		],
		"keyFiles": [
			"frontend/src/components/admin/AdminProductsPanel.tsx",
			"frontend/src/lib/api.ts",
			"backend/src/models/Product.js",
			"backend/src/services/productService.js",
			"backend/src/repositories/productRepository.js",
			"backend/src/controllers/productController.js",
			"backend/src/routes/productRoutes.js"
		],
		"nonGoals": [
			"New warehouse/reservation/multi-location inventory systems",
			"Customer storefront behavior changes",
			"Playwright CI expansion",
			"Unrelated admin module refactors"
		]
	},
	"beadMetadata": {
		"depends_on": [],
		"parallel": true,
		"conflicts_with": [],
		"blocks": [],
		"estimated_hours": 6
	}
}
